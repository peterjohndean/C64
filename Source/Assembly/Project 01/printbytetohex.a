; ------------------------------------------------------------
; Output the byte in A as two hex ASCII characters to channel.
; Input:
;	A = byte to convert and output
; Destroys:
;	A
; ------------------------------------------------------------
!zone OUTPUTBYTEASASCIIHEX {
OutputByteToHex:
    pha					; Preserve original A
    lsr					; Shift upper nibble into lower 4 bits
    lsr
    lsr
    lsr
    jsr .OutputNibble	; Output high nibble
    pla
    and #$0F			; Mask to get low nibble
    
; ------------------------------------------------------------
; Convert nibble in A to ASCII hex, output via KERNEL_CHROUT
; ------------------------------------------------------------
.OutputNibble:
    ora #$30	; Add ASCII '0'
    cmp #$3A 	; If >= '9'+1
    bcc .Output	; ...then it's 0–9
    adc #$06	; else convert to A–F
    			; C=1 from CMP, so effectively adds 7
.Output:
    jmp KERNEL_CHROUT	; Output nibble, the kernel routine will rts
}
