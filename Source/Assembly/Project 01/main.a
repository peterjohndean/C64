; ------------------------------------------------------------
;  Synosis:
;	Learning C64 assembly language by revealing BASIC's storage
;	area variables and arrays.
; ------------------------------------------------------------
; Machine Language Entry point (called from BASIC: SYS 49152)
;
; Ref: pg309, COMMODORE 64 - PROGRAMMER'S REFERENCE GUIDE
; The best place for machine language routines on the Commodore 64 is from
; $C000 â€“ $CFFF, assuming the routines are smaler than 4K bytes long. This
; section of memory is not disturbed by BASIC.
; ------------------------------------------------------------

!zone Target {

	* = $C000				; SYS49152 or SYS12*4096
						
    !cpu 6510				; Target processor
	!to "/Volumes/ExternalSSD_iTunes/C64/Virtual Disk/ml", cbm          ; Output binary file (PRG format)
    !symbollist "symbols.txt"     ; Output symbol list for debugging
    
	!src "../Common/kernel.inc"		; Kernel addresses
	!src "../Common/tokens.inc"		; BASIC tokens
	!src "../Common/macros.inc"		; Macros to make life a little easier
}

!zone Main
!address Ptr = <MM_FREKZP	; Zero page to hold our c string pointer
			

MLEP:
	
	jsr EntryPoint_DBSA
    
MLEP_END:
	rts

; ------------------------------------------------------------
; Project source code
; ------------------------------------------------------------
!src "dsa.a"
!src "../Common/printcstring.a"
!src "../Common/printbytetohex.a"
